<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Subdivision Development Proforma</title>
<style>
  body {
    font-family: Arial, sans-serif; 
    margin: 20px;
  }
  table {
    border-collapse: collapse; 
    width: 100%; 
    margin-bottom: 30px;
    table-layout: fixed;
  }
  th, td {
    border: 1px solid #ccc; 
    padding: 8px; 
    vertical-align: top;
  }
  th {
    background: #f0f0f0;
    text-align: left;
  }
  input, select {
    width: 100%;
  }
  .section-title {
    margin-top: 40px;
    font-size: 1.2em;
    font-weight: bold;
  }
  .subtotal, .total {
    font-weight: bold;
  }
  .notes {
    color: #555;
    font-size: 0.9em;
  }
  table col:nth-child(1) { width: 30%; }
  table col:nth-child(2) { width: 20%; }
  table col:nth-child(3) { width: 20%; }
  table col:nth-child(4) { width: 30%; }
</style>
<script>
function formatNumber(num) {
  if (!num || isNaN(num)) return '0';
  return num.toLocaleString('en-US', {maximumFractionDigits:0});
}

function recalculate() {
  // Inputs
  const acres = parseFloat(document.getElementById('inputAcres').value) || 0;
  const costPerAcre = parseFloat(document.getElementById('costPerAcre').value) || 0;
  const usablePercent = parseFloat(document.getElementById('selectUsable').value) || 0;
  const lotsPerAcre = parseFloat(document.getElementById('inputLotsPerAcre').value) || 0;
  const entitledLotPrice = parseFloat(document.getElementById('entitledLotPrice').value) || 0;
  const developedLotPrice = parseFloat(document.getElementById('developedLotPrice').value) || 0;
  const tapFee = parseFloat(document.getElementById('tapFee').value) || 0;
  const wellFee = parseFloat(document.getElementById('wellFee').value) || 0;
  const septicFee = parseFloat(document.getElementById('septicFee').value) || 0;
  const difficulty = document.getElementById('gradingDifficulty').value;
  const primeRate = parseFloat(document.getElementById('primeRate').value) || 0;
  const carryingMonths = parseFloat(document.getElementById('carryingMonths').value) || 12;
  const targetMargin = 30; // Default margin if needed

  const totalLots = acres * usablePercent * lotsPerAcre;

  // Scenario Revenues
  const entitledRevenue = totalLots * entitledLotPrice;
  const developedRevenue = totalLots * developedLotPrice;

  // Land & Entitlement
  const landPurchaseTotal = costPerAcre * acre
